{"ast":null,"code":"import _objectWithoutProperties from \"/Users/behzad/Desktop/swr/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _createForOfIteratorHelper from \"/Users/behzad/Desktop/swr/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"/Users/behzad/Desktop/swr/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"/Users/behzad/Desktop/swr/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/behzad/Desktop/swr/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"/Users/behzad/Desktop/swr/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Users/behzad/Desktop/swr/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _excluded = [\"options\", \"children\", \"getBeforeInit\", \"getAfterInit\"];\nimport React, { forwardRef, useRef, useState, useEffect } from \"react\";\nvar isArray = function isArray(thing) {\n  return Array.isArray(thing);\n};\nvar asArray = function asArray(value) {\n  return isArray(value) ? value : [value];\n};\nvar Queue = function Queue(initialItems) {\n  var add = function add(steps) {\n    asArray(steps).forEach(function (step) {\n      var _a;\n      return _q.set(Symbol((_a = step.char) == null ? void 0 : _a.innerText), buildQueueItem(_objectSpread({}, step)));\n    });\n    return this;\n  };\n  var getTypeable = function getTypeable() {\n    return rawValues().filter(function (value) {\n      return value.typeable;\n    });\n  };\n  var set = function set(index, item) {\n    var keys = _toConsumableArray(_q.keys());\n    _q.set(keys[index], buildQueueItem(item));\n  };\n  var buildQueueItem = function buildQueueItem(queueItem) {\n    queueItem.shouldPauseCursor = function () {\n      return Boolean(this.typeable || this.cursorable || this.deletable);\n    };\n    return queueItem;\n  };\n  var reset = function reset() {\n    _q.forEach(function (item) {\n      return delete item.done;\n    });\n  };\n  var wipe = function wipe() {\n    _q = /* @__PURE__ */new Map();\n    add(initialItems);\n  };\n  var getQueue = function getQueue() {\n    return _q;\n  };\n  var rawValues = function rawValues() {\n    return Array.from(_q.values());\n  };\n  var destroy = function destroy(key) {\n    return _q.delete(key);\n  };\n  var getItems = function getItems() {\n    var all = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return all ? rawValues() : rawValues().filter(function (i) {\n      return !i.done;\n    });\n  };\n  var done = function done(key) {\n    var shouldDestroy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return shouldDestroy ? _q.delete(key) : _q.get(key).done = true;\n  };\n  var _q = /* @__PURE__ */new Map();\n  add(initialItems);\n  return {\n    add: add,\n    set: set,\n    wipe: wipe,\n    reset: reset,\n    destroy: destroy,\n    done: done,\n    getItems: getItems,\n    getQueue: getQueue,\n    getTypeable: getTypeable\n  };\n};\nvar toArray = function toArray(val) {\n  return Array.from(val);\n};\nvar createTextNode = function createTextNode(content) {\n  return document.createTextNode(content);\n};\nvar expandTextNodes = function expandTextNodes(element) {\n  _toConsumableArray(element.childNodes).forEach(function (child) {\n    if (child.nodeValue) {\n      _toConsumableArray(child.nodeValue).forEach(function (c) {\n        child.parentNode.insertBefore(createTextNode(c), child);\n      });\n      child.remove();\n      return;\n    }\n    expandTextNodes(child);\n  });\n  return element;\n};\nvar getParsedBody = function getParsedBody(content) {\n  var doc = document.implementation.createHTMLDocument();\n  doc.body.innerHTML = content;\n  return expandTextNodes(doc.body);\n};\nvar DATA_ATTRIBUTE = \"data-typeit-id\";\nvar CURSOR_CLASS = \"ti-cursor\";\nvar END = \"END\";\nvar DEFAULT_STATUSES = {\n  started: false,\n  completed: false,\n  frozen: false,\n  destroyed: false\n};\nvar DEFAULT_OPTIONS = {\n  breakLines: true,\n  cursor: {\n    autoPause: true,\n    autoPauseDelay: 500,\n    animation: {\n      frames: [0, 0, 1].map(function (n) {\n        return {\n          opacity: n\n        };\n      }),\n      options: {\n        iterations: Infinity,\n        easing: \"steps(2, start)\",\n        fill: \"forwards\"\n      }\n    }\n  },\n  cursorChar: \"|\",\n  cursorSpeed: 1e3,\n  deleteSpeed: null,\n  html: true,\n  lifeLike: true,\n  loop: false,\n  loopDelay: 750,\n  nextStringDelay: 750,\n  speed: 100,\n  startDelay: 250,\n  startDelete: false,\n  strings: [],\n  waitUntilVisible: false,\n  beforeString: function beforeString() {},\n  afterString: function afterString() {},\n  beforeStep: function beforeStep() {},\n  afterStep: function afterStep() {},\n  afterComplete: function afterComplete() {}\n};\nvar PLACEHOLDER_CSS = \"[\".concat(DATA_ATTRIBUTE, \"]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}\");\nfunction walkElementNodes(element) {\n  var shouldReverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var shouldIncludeCursor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var cursor = element.querySelector(\".\".concat(CURSOR_CLASS));\n  var walker = document.createTreeWalker(element, NodeFilter.SHOW_ALL, {\n    acceptNode: function acceptNode(node) {\n      var _a, _b;\n      if (cursor && shouldIncludeCursor) {\n        if ((_a = node.classList) == null ? void 0 : _a.contains(CURSOR_CLASS)) {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n        if (cursor.contains(node)) {\n          return NodeFilter.FILTER_REJECT;\n        }\n      }\n      return ((_b = node.classList) == null ? void 0 : _b.contains(CURSOR_CLASS)) ? NodeFilter.FILTER_REJECT : NodeFilter.FILTER_ACCEPT;\n    }\n  });\n  var nextNode;\n  var nodes = [];\n  while (nextNode = walker.nextNode()) {\n    if (!nextNode.originalParent) {\n      nextNode.originalParent = nextNode.parentNode;\n    }\n    nodes.push(nextNode);\n  }\n  return shouldReverse ? nodes.reverse() : nodes;\n}\nfunction chunkStringAsHtml(string) {\n  return walkElementNodes(getParsedBody(string));\n}\nfunction maybeChunkStringAsHtml(str) {\n  var asHtml = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return asHtml ? chunkStringAsHtml(str) : toArray(str).map(createTextNode);\n}\nvar createElement = function createElement(el) {\n  return document.createElement(el);\n};\nvar appendStyleBlock = function appendStyleBlock(styles) {\n  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  var styleBlock = createElement(\"style\");\n  styleBlock.id = id;\n  styleBlock.appendChild(createTextNode(styles));\n  document.head.appendChild(styleBlock);\n};\nvar calculateDelay = function calculateDelay(delayArg) {\n  if (!isArray(delayArg)) {\n    delayArg = [delayArg / 2, delayArg / 2];\n  }\n  return delayArg;\n};\nvar randomInRange = function randomInRange(value, range2) {\n  return Math.abs(Math.random() * (value + range2 - (value - range2)) + (value - range2));\n};\nvar range = function range(val) {\n  return val / 2;\n};\nfunction calculatePace(options) {\n  var speed = options.speed,\n    deleteSpeed = options.deleteSpeed,\n    lifeLike = options.lifeLike;\n  deleteSpeed = deleteSpeed !== null ? deleteSpeed : speed / 3;\n  return lifeLike ? [randomInRange(speed, range(speed)), randomInRange(deleteSpeed, range(deleteSpeed))] : [speed, deleteSpeed];\n}\nvar destroyTimeouts = function destroyTimeouts(timeouts) {\n  timeouts.forEach(clearTimeout);\n  return [];\n};\nvar generateHash = function generateHash() {\n  return Math.random().toString().substring(2, 9);\n};\nvar isInput = function isInput(el) {\n  return \"value\" in el;\n};\nvar getAllChars = function getAllChars(element) {\n  if (isInput(element)) {\n    return toArray(element.value);\n  }\n  return walkElementNodes(element, true).filter(function (c) {\n    return !(c.childNodes.length > 0);\n  });\n};\nvar fireWhenVisible = function fireWhenVisible(element, func) {\n  var observer = new IntersectionObserver(function (entries, observer2) {\n    entries.forEach(function (entry) {\n      if (entry.isIntersecting) {\n        func();\n        observer2.unobserve(element);\n      }\n    });\n  }, {\n    threshold: 1\n  });\n  observer.observe(element);\n};\nvar handleFunctionalArg = function handleFunctionalArg(arg) {\n  return typeof arg === \"function\" ? arg() : arg;\n};\nvar isNumber = function isNumber(value) {\n  return Number.isInteger(value);\n};\nvar select = function select(selector) {\n  var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n  var all = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return element[\"querySelector\".concat(all ? \"All\" : \"\")](selector);\n};\nvar isBodyElement = function isBodyElement(node) {\n  return /body/i.test(node == null ? void 0 : node.tagName);\n};\nvar insertIntoElement = function insertIntoElement(originalTarget, character) {\n  if (isInput(originalTarget)) {\n    originalTarget.value = \"\".concat(originalTarget.value).concat(character.textContent);\n    return;\n  }\n  character.innerHTML = \"\";\n  var target = isBodyElement(character.originalParent) ? originalTarget : character.originalParent || originalTarget;\n  target.insertBefore(character, select(\".\" + CURSOR_CLASS, target) || null);\n};\nvar updateCursorPosition = function updateCursorPosition(steps, cursorPosition, printedCharacters) {\n  return Math.min(Math.max(cursorPosition + steps, 0), printedCharacters.length);\n};\nvar merge = function merge(originalObj, newObj) {\n  return Object.assign({}, originalObj, newObj);\n};\nvar removeNode = function removeNode(node, rootElement) {\n  if (!node) return;\n  var nodeParent = node.parentNode;\n  var nodeToRemove = nodeParent.childNodes.length > 1 || nodeParent.isSameNode(rootElement) ? node : nodeParent;\n  nodeToRemove.remove();\n};\nvar repositionCursor = function repositionCursor(element, allChars, newCursorPosition) {\n  var nodeToInsertBefore = allChars[newCursorPosition - 1];\n  var cursor = select(\".\".concat(CURSOR_CLASS), element);\n  element = (nodeToInsertBefore == null ? void 0 : nodeToInsertBefore.parentNode) || element;\n  element.insertBefore(cursor, nodeToInsertBefore || null);\n};\nfunction selectorToElement(thing) {\n  return typeof thing === \"string\" ? select(thing) : thing;\n}\nvar isNonVoidElement = function isNonVoidElement(el) {\n  return /<(.+)>(.*?)<\\/(.+)>/.test(el.outerHTML);\n};\nvar wait = function wait(callback, delay, timeouts) {\n  return new Promise(function (resolve) {\n    var cb = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return callback();\n            case 2:\n              resolve();\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function cb() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    timeouts.push(setTimeout(cb, delay || 0));\n  });\n};\nvar cursorFontStyles = {\n  \"font-family\": \"\",\n  \"font-weight\": \"\",\n  \"font-size\": \"\",\n  \"font-style\": \"\",\n  \"line-height\": \"\",\n  color: \"\",\n  transform: \"translateX(-.125em)\"\n};\nvar setCursorStyles = function setCursorStyles(id, element) {\n  var rootSelector = \"[\".concat(DATA_ATTRIBUTE, \"='\").concat(id, \"']\");\n  var cursorSelector = \"\".concat(rootSelector, \" .\").concat(CURSOR_CLASS);\n  var computedStyles = getComputedStyle(element);\n  var customProperties = Object.entries(cursorFontStyles).reduce(function (accumulator, _ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n      item = _ref3[0],\n      value = _ref3[1];\n    return \"\".concat(accumulator, \" \").concat(item, \": var(--ti-cursor-\").concat(item, \", \").concat(value || computedStyles[item], \");\");\n  }, \"\");\n  appendStyleBlock(\"\".concat(cursorSelector, \" { display: inline-block; width: 0; \").concat(customProperties, \" }\"), id);\n};\nvar duplicate = function duplicate(value, times) {\n  return new Array(times).fill(value);\n};\nvar countStepsToSelector = function countStepsToSelector(_ref4) {\n  var queueItems = _ref4.queueItems,\n    selector = _ref4.selector,\n    cursorPosition = _ref4.cursorPosition,\n    to = _ref4.to;\n  if (isNumber(selector)) {\n    return selector * -1;\n  }\n  var isMovingToEnd = new RegExp(END, \"i\").test(to);\n  var selectorIndex = selector ? _toConsumableArray(queueItems).reverse().findIndex(function (_ref5) {\n    var char = _ref5.char;\n    var parentElement = char.parentElement;\n    var parentMatches = parentElement.matches(selector);\n    if (isMovingToEnd && parentMatches) {\n      return true;\n    }\n    return parentMatches && parentElement.firstChild.isSameNode(char);\n  }) : -1;\n  if (selectorIndex < 0) {\n    selectorIndex = isMovingToEnd ? 0 : queueItems.length - 1;\n  }\n  var offset = isMovingToEnd ? 0 : 1;\n  return selectorIndex - cursorPosition + offset;\n};\nvar beforePaint = function beforePaint(cb) {\n  return new Promise(function (resolve) {\n    requestAnimationFrame( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.t0 = resolve;\n            _context2.next = 3;\n            return cb();\n          case 3:\n            _context2.t1 = _context2.sent;\n            (0, _context2.t0)(_context2.t1);\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    })));\n  });\n};\nvar getAnimationFromElement = function getAnimationFromElement(element) {\n  return element == null ? void 0 : element.getAnimations().find(function (animation) {\n    return animation.id === element.dataset.tiAnimationId;\n  });\n};\nvar setCursorAnimation = function setCursorAnimation(_ref7) {\n  var cursor = _ref7.cursor,\n    frames = _ref7.frames,\n    options = _ref7.options;\n  var animation = cursor.animate(frames, options);\n  animation.pause();\n  animation.id = cursor.dataset.tiAnimationId;\n  beforePaint(function () {\n    beforePaint(function () {\n      animation.play();\n    });\n  });\n  return animation;\n};\nvar rebuildCursorAnimation = function rebuildCursorAnimation(_ref8) {\n  var cursor = _ref8.cursor,\n    options = _ref8.options,\n    cursorOptions = _ref8.cursorOptions;\n  if (!cursor || !cursorOptions) return;\n  var animation = getAnimationFromElement(cursor);\n  var oldCurrentTime;\n  if (animation) {\n    options.delay = animation.effect.getComputedTiming().delay;\n    oldCurrentTime = animation.currentTime;\n    animation.cancel();\n  }\n  var newAnimation = setCursorAnimation({\n    cursor: cursor,\n    frames: cursorOptions.animation.frames,\n    options: options\n  });\n  if (oldCurrentTime) {\n    newAnimation.currentTime = oldCurrentTime;\n  }\n  return newAnimation;\n};\nvar execute = function execute(queueItem) {\n  var _a;\n  return (_a = queueItem.func) == null ? void 0 : _a.call(null);\n};\nvar fireItem = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(_ref9) {\n    var index, queueItems, wait2, cursor, cursorOptions, queueItem, instantQueue, tempIndex, futureItem, shouldBeGrouped, shouldPauseCursor, animation, options;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          index = _ref9.index, queueItems = _ref9.queueItems, wait2 = _ref9.wait, cursor = _ref9.cursor, cursorOptions = _ref9.cursorOptions;\n          queueItem = queueItems[index][1];\n          instantQueue = [];\n          tempIndex = index;\n          futureItem = queueItem;\n          shouldBeGrouped = function shouldBeGrouped() {\n            return futureItem && !futureItem.delay;\n          };\n          shouldPauseCursor = queueItem.shouldPauseCursor() && cursorOptions.autoPause;\n          while (shouldBeGrouped()) {\n            instantQueue.push(futureItem);\n            shouldBeGrouped() && tempIndex++;\n            futureItem = queueItems[tempIndex] ? queueItems[tempIndex][1] : null;\n          }\n          if (!instantQueue.length) {\n            _context5.next = 12;\n            break;\n          }\n          _context5.next = 11;\n          return beforePaint( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n            var _iterator, _step, q;\n            return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n              while (1) switch (_context3.prev = _context3.next) {\n                case 0:\n                  _iterator = _createForOfIteratorHelper(instantQueue);\n                  _context3.prev = 1;\n                  _iterator.s();\n                case 3:\n                  if ((_step = _iterator.n()).done) {\n                    _context3.next = 9;\n                    break;\n                  }\n                  q = _step.value;\n                  _context3.next = 7;\n                  return execute(q);\n                case 7:\n                  _context3.next = 3;\n                  break;\n                case 9:\n                  _context3.next = 14;\n                  break;\n                case 11:\n                  _context3.prev = 11;\n                  _context3.t0 = _context3[\"catch\"](1);\n                  _iterator.e(_context3.t0);\n                case 14:\n                  _context3.prev = 14;\n                  _iterator.f();\n                  return _context3.finish(14);\n                case 17:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }, _callee3, null, [[1, 11, 14, 17]]);\n          })));\n        case 11:\n          return _context5.abrupt(\"return\", tempIndex - 1);\n        case 12:\n          animation = getAnimationFromElement(cursor);\n          if (animation) {\n            options = _objectSpread(_objectSpread({}, animation.effect.getComputedTiming()), {}, {\n              delay: shouldPauseCursor ? cursorOptions.autoPauseDelay : 0\n            });\n          }\n          _context5.next = 16;\n          return wait2( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n            return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n              while (1) switch (_context4.prev = _context4.next) {\n                case 0:\n                  if (animation && shouldPauseCursor) {\n                    animation.cancel();\n                  }\n                  _context4.next = 3;\n                  return beforePaint(function () {\n                    execute(queueItem);\n                  });\n                case 3:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }, _callee4);\n          })), queueItem.delay);\n        case 16:\n          _context5.next = 18;\n          return rebuildCursorAnimation({\n            cursor: cursor,\n            options: options,\n            cursorOptions: cursorOptions\n          });\n        case 18:\n          return _context5.abrupt(\"return\", index);\n        case 19:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function fireItem(_x) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nvar processCursorOptions = function processCursorOptions(cursorOptions) {\n  var _a, _b;\n  if (typeof cursorOptions === \"object\") {\n    var _cursorOptions$autoPa;\n    var newOptions = {};\n    var _DEFAULT_OPTIONS$curs = DEFAULT_OPTIONS.cursor.animation,\n      defaultFrames = _DEFAULT_OPTIONS$curs.frames,\n      defaultOptions = _DEFAULT_OPTIONS$curs.options;\n    newOptions.animation = cursorOptions.animation || {};\n    newOptions.animation.frames = ((_a = cursorOptions.animation) == null ? void 0 : _a.frames) || defaultFrames;\n    newOptions.animation.options = merge(defaultOptions, ((_b = cursorOptions.animation) == null ? void 0 : _b.options) || {});\n    newOptions.autoPause = (_cursorOptions$autoPa = cursorOptions.autoPause) !== null && _cursorOptions$autoPa !== void 0 ? _cursorOptions$autoPa : DEFAULT_OPTIONS.cursor.autoPause;\n    newOptions.autoPauseDelay = cursorOptions.autoPauseDelay || DEFAULT_OPTIONS.cursor.autoPauseDelay;\n    return newOptions;\n  }\n  if (cursorOptions === true) {\n    return DEFAULT_OPTIONS.cursor;\n  }\n  return cursorOptions;\n};\nvar TypeIt$1 = function TypeIt$1(element) {\n  var _this = this,\n    _options$cursor;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _wait = /*#__PURE__*/function () {\n    var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(callback, delay) {\n      var silent,\n        _args6 = arguments;\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            silent = _args6.length > 2 && _args6[2] !== undefined ? _args6[2] : false;\n            if (!_statuses.frozen) {\n              _context6.next = 4;\n              break;\n            }\n            _context6.next = 4;\n            return new Promise(function (resolve) {\n              _this.unfreeze = function () {\n                _statuses.frozen = false;\n                resolve();\n              };\n            });\n          case 4:\n            _context6.t0 = silent;\n            if (_context6.t0) {\n              _context6.next = 8;\n              break;\n            }\n            _context6.next = 8;\n            return _opts.beforeStep(_this);\n          case 8:\n            _context6.next = 10;\n            return wait(callback, delay, _timeouts);\n          case 10:\n            _context6.t1 = silent;\n            if (_context6.t1) {\n              _context6.next = 14;\n              break;\n            }\n            _context6.next = 14;\n            return _opts.afterStep(_this);\n          case 14:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6);\n    }));\n    return function _wait(_x2, _x3) {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n  var _fireItemWithContext = function _fireItemWithContext(index, queueItems) {\n    return fireItem({\n      index: index,\n      queueItems: queueItems,\n      wait: _wait,\n      cursor: _cursor,\n      cursorOptions: _opts.cursor\n    });\n  };\n  var _removeNode = function _removeNode(node) {\n    return removeNode(node, _element);\n  };\n  var _elementIsInput = function _elementIsInput() {\n    return isInput(_element);\n  };\n  var _getPace = function _getPace() {\n    var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    return calculatePace(_opts)[index];\n  };\n  var _getAllChars = function _getAllChars() {\n    return getAllChars(_element);\n  };\n  var _maybeAppendPause = function _maybeAppendPause() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var delay = opts.delay;\n    delay && _queue.add({\n      delay: delay\n    });\n  };\n  var _queueAndReturn = function _queueAndReturn(steps, opts) {\n    _queue.add(steps);\n    _maybeAppendPause(opts);\n    return _this;\n  };\n  var _getDerivedCursorPosition = function _getDerivedCursorPosition() {\n    var _predictedCursorPosit;\n    return (_predictedCursorPosit = _predictedCursorPosition) !== null && _predictedCursorPosit !== void 0 ? _predictedCursorPosit : _cursorPosition;\n  };\n  var _generateTemporaryOptionQueueItems = function _generateTemporaryOptionQueueItems() {\n    var newOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return [{\n      func: function func() {\n        return _options(newOptions);\n      }\n    }, {\n      func: function func() {\n        return _options(_opts);\n      }\n    }];\n  };\n  var _addSplitPause = function _addSplitPause(items) {\n    var delay = _opts.nextStringDelay;\n    _queue.add([{\n      delay: delay[0]\n    }].concat(_toConsumableArray(items), [{\n      delay: delay[1]\n    }]));\n  };\n  var _setUpCursor = function _setUpCursor() {\n    if (_elementIsInput()) {\n      return;\n    }\n    var cursor = createElement(\"span\");\n    cursor.className = CURSOR_CLASS;\n    if (!_shouldRenderCursor) {\n      cursor.style.visibility = \"hidden\";\n      return cursor;\n    }\n    cursor.innerHTML = getParsedBody(_opts.cursorChar).innerHTML;\n    return cursor;\n  };\n  var _attachCursor = /*#__PURE__*/function () {\n    var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n      var animation, frames, options2;\n      return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            !_elementIsInput() && _cursor && _element.appendChild(_cursor);\n            if (_shouldRenderCursor) {\n              setCursorStyles(_id, _element);\n              _cursor.dataset.tiAnimationId = _id;\n              animation = _opts.cursor.animation;\n              frames = animation.frames, options2 = animation.options;\n              setCursorAnimation({\n                frames: frames,\n                cursor: _cursor,\n                options: _objectSpread({\n                  duration: _opts.cursorSpeed\n                }, options2)\n              });\n            }\n          case 2:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee7);\n    }));\n    return function _attachCursor() {\n      return _ref14.apply(this, arguments);\n    };\n  }();\n  var _generateQueue = function _generateQueue() {\n    var strings = _opts.strings.filter(function (string) {\n      return !!string;\n    });\n    strings.forEach(function (string, index) {\n      _this.type(string);\n      if (index + 1 === strings.length) {\n        return;\n      }\n      var splitItems = _opts.breakLines ? [{\n        func: function func() {\n          return _type(createElement(\"BR\"));\n        },\n        typeable: true\n      }] : duplicate({\n        func: _delete,\n        delay: _getPace(1)\n      }, _queue.getTypeable().length);\n      _addSplitPause(splitItems);\n    });\n  };\n  var _prepLoop = /*#__PURE__*/function () {\n    var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(delay) {\n      var derivedCursorPosition, queueItems, index;\n      return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            derivedCursorPosition = _getDerivedCursorPosition();\n            _context8.t0 = derivedCursorPosition;\n            if (!_context8.t0) {\n              _context8.next = 5;\n              break;\n            }\n            _context8.next = 5;\n            return _move({\n              value: derivedCursorPosition\n            });\n          case 5:\n            queueItems = _getAllChars().map(function (c) {\n              return [Symbol(), {\n                func: _delete,\n                delay: _getPace(1),\n                deletable: true,\n                shouldPauseCursor: function shouldPauseCursor() {\n                  return true;\n                }\n              }];\n            });\n            index = 0;\n          case 7:\n            if (!(index < queueItems.length)) {\n              _context8.next = 13;\n              break;\n            }\n            _context8.next = 10;\n            return _fireItemWithContext(index, queueItems);\n          case 10:\n            index++;\n            _context8.next = 7;\n            break;\n          case 13:\n            _queue.reset();\n            _queue.set(0, {\n              delay: delay\n            });\n          case 15:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee8);\n    }));\n    return function _prepLoop(_x4) {\n      return _ref15.apply(this, arguments);\n    };\n  }();\n  var _maybePrependHardcodedStrings = function _maybePrependHardcodedStrings(strings) {\n    var existingMarkup = _element.innerHTML;\n    if (!existingMarkup) {\n      return strings;\n    }\n    _element.innerHTML = \"\";\n    if (_opts.startDelete) {\n      _element.innerHTML = existingMarkup;\n      expandTextNodes(_element);\n      _addSplitPause(duplicate({\n        func: _delete,\n        delay: _getPace(1),\n        deletable: true\n      }, _getAllChars().length));\n      return strings;\n    }\n    var hardCodedStrings = existingMarkup.replace(/<!--(.+?)-->/g, \"\").trim().split(/<br(?:\\s*?)(?:\\/)?>/);\n    return hardCodedStrings.concat(strings);\n  };\n  var _fire = /*#__PURE__*/function () {\n    var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n      var remember,\n        cleanUp,\n        queueItems,\n        index,\n        _queueItems$index,\n        queueKey,\n        queueItem,\n        newIndex,\n        delay,\n        _args10 = arguments;\n      return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n        while (1) switch (_context10.prev = _context10.next) {\n          case 0:\n            remember = _args10.length > 0 && _args10[0] !== undefined ? _args10[0] : true;\n            _statuses.started = true;\n            cleanUp = function cleanUp(qKey) {\n              _queue.done(qKey, !remember);\n            };\n            _context10.prev = 3;\n            queueItems = _toConsumableArray(_queue.getQueue());\n            index = 0;\n          case 6:\n            if (!(index < queueItems.length)) {\n              _context10.next = 20;\n              break;\n            }\n            _queueItems$index = _slicedToArray(queueItems[index], 2), queueKey = _queueItems$index[0], queueItem = _queueItems$index[1];\n            if (!queueItem.done) {\n              _context10.next = 10;\n              break;\n            }\n            return _context10.abrupt(\"continue\", 17);\n          case 10:\n            if (!(!queueItem.deletable || queueItem.deletable && _getAllChars().length)) {\n              _context10.next = 16;\n              break;\n            }\n            _context10.next = 13;\n            return _fireItemWithContext(index, queueItems);\n          case 13:\n            newIndex = _context10.sent;\n            Array(newIndex - index).fill(index + 1).map(function (x, y) {\n              return x + y;\n            }).forEach(function (i) {\n              var _queueItems$i = _slicedToArray(queueItems[i], 1),\n                key = _queueItems$i[0];\n              cleanUp(key);\n            });\n            index = newIndex;\n          case 16:\n            cleanUp(queueKey);\n          case 17:\n            index++;\n            _context10.next = 6;\n            break;\n          case 20:\n            if (remember) {\n              _context10.next = 22;\n              break;\n            }\n            return _context10.abrupt(\"return\", _this);\n          case 22:\n            _statuses.completed = true;\n            _context10.next = 25;\n            return _opts.afterComplete(_this);\n          case 25:\n            if (_opts.loop) {\n              _context10.next = 27;\n              break;\n            }\n            throw \"\";\n          case 27:\n            delay = _opts.loopDelay;\n            _wait( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n              return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n                while (1) switch (_context9.prev = _context9.next) {\n                  case 0:\n                    _context9.next = 2;\n                    return _prepLoop(delay[0]);\n                  case 2:\n                    _fire();\n                  case 3:\n                  case \"end\":\n                    return _context9.stop();\n                }\n              }, _callee9);\n            })), delay[1]);\n            _context10.next = 33;\n            break;\n          case 31:\n            _context10.prev = 31;\n            _context10.t0 = _context10[\"catch\"](3);\n          case 33:\n            return _context10.abrupt(\"return\", _this);\n          case 34:\n          case \"end\":\n            return _context10.stop();\n        }\n      }, _callee10, null, [[3, 31]]);\n    }));\n    return function _fire() {\n      return _ref16.apply(this, arguments);\n    };\n  }();\n  var _move = /*#__PURE__*/function () {\n    var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(step) {\n      return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n        while (1) switch (_context11.prev = _context11.next) {\n          case 0:\n            _cursorPosition = updateCursorPosition(step, _cursorPosition, _getAllChars());\n            repositionCursor(_element, _getAllChars(), _cursorPosition);\n          case 2:\n          case \"end\":\n            return _context11.stop();\n        }\n      }, _callee11);\n    }));\n    return function _move(_x5) {\n      return _ref18.apply(this, arguments);\n    };\n  }();\n  var _type = function _type(char) {\n    return insertIntoElement(_element, char);\n  };\n  var _options = /*#__PURE__*/function () {\n    var _ref19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(opts) {\n      return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n        while (1) switch (_context12.prev = _context12.next) {\n          case 0:\n            return _context12.abrupt(\"return\", _opts = merge(_opts, opts));\n          case 1:\n          case \"end\":\n            return _context12.stop();\n        }\n      }, _callee12);\n    }));\n    return function _options(_x6) {\n      return _ref19.apply(this, arguments);\n    };\n  }();\n  var _empty = /*#__PURE__*/function () {\n    var _ref20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n      return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n        while (1) switch (_context13.prev = _context13.next) {\n          case 0:\n            if (!_elementIsInput()) {\n              _context13.next = 3;\n              break;\n            }\n            _element.value = \"\";\n            return _context13.abrupt(\"return\");\n          case 3:\n            _getAllChars().forEach(_removeNode);\n            return _context13.abrupt(\"return\");\n          case 5:\n          case \"end\":\n            return _context13.stop();\n        }\n      }, _callee13);\n    }));\n    return function _empty() {\n      return _ref20.apply(this, arguments);\n    };\n  }();\n  var _delete = function _delete() {\n    var allChars = _getAllChars();\n    if (!allChars.length) return;\n    if (_elementIsInput()) {\n      _element.value = _element.value.slice(0, -1);\n    } else {\n      _removeNode(allChars[_cursorPosition]);\n    }\n  };\n  this.break = function (actionOpts) {\n    return _queueAndReturn({\n      func: function func() {\n        return _type(createElement(\"BR\"));\n      },\n      typeable: true\n    }, actionOpts);\n  };\n  this.delete = function () {\n    var numCharacters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var actionOpts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    numCharacters = handleFunctionalArg(numCharacters);\n    var bookEndQueueItems = _generateTemporaryOptionQueueItems(actionOpts);\n    var num = numCharacters;\n    var instant = actionOpts.instant,\n      to = actionOpts.to;\n    var typeableQueueItems = _queue.getTypeable();\n    var rounds = function () {\n      if (num === null) {\n        return typeableQueueItems.length;\n      }\n      if (isNumber(num)) {\n        return num;\n      }\n      return countStepsToSelector({\n        queueItems: typeableQueueItems,\n        selector: num,\n        cursorPosition: _getDerivedCursorPosition(),\n        to: to\n      });\n    }();\n    return _queueAndReturn([bookEndQueueItems[0]].concat(_toConsumableArray(duplicate({\n      func: _delete,\n      delay: instant ? 0 : _getPace(1),\n      deletable: true\n    }, rounds)), [bookEndQueueItems[1]]), actionOpts);\n  };\n  this.empty = function () {\n    var actionOpts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return _queueAndReturn({\n      func: _empty\n    }, actionOpts);\n  };\n  this.exec = function (_func) {\n    var _this2 = this;\n    var actionOpts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var bookEndQueueItems = _generateTemporaryOptionQueueItems(actionOpts);\n    return _queueAndReturn([bookEndQueueItems[0], {\n      func: function func() {\n        return _func(_this2);\n      }\n    }, bookEndQueueItems[1]], actionOpts);\n  };\n  this.move = function (movementArg) {\n    var actionOpts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    movementArg = handleFunctionalArg(movementArg);\n    var bookEndQueueItems = _generateTemporaryOptionQueueItems(actionOpts);\n    var instant = actionOpts.instant,\n      to = actionOpts.to;\n    var numberOfSteps = countStepsToSelector({\n      queueItems: _queue.getTypeable(),\n      selector: movementArg === null ? \"\" : movementArg,\n      to: to,\n      cursorPosition: _getDerivedCursorPosition()\n    });\n    var directionalStep = numberOfSteps < 0 ? -1 : 1;\n    _predictedCursorPosition = _getDerivedCursorPosition() + numberOfSteps;\n    return _queueAndReturn([bookEndQueueItems[0]].concat(_toConsumableArray(duplicate({\n      func: function func() {\n        return _move(directionalStep);\n      },\n      delay: instant ? 0 : _getPace(),\n      cursorable: true\n    }, Math.abs(numberOfSteps))), [bookEndQueueItems[1]]), actionOpts);\n  };\n  this.options = function (opts) {\n    var actionOpts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    opts = handleFunctionalArg(opts);\n    _options(opts);\n    return _queueAndReturn({}, actionOpts);\n  };\n  this.pause = function (milliseconds) {\n    var actionOpts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return _queueAndReturn({\n      delay: handleFunctionalArg(milliseconds)\n    }, actionOpts);\n  };\n  this.type = function (string) {\n    var _this3 = this;\n    var actionOpts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    string = handleFunctionalArg(string);\n    var instant = actionOpts.instant;\n    var bookEndQueueItems = _generateTemporaryOptionQueueItems(actionOpts);\n    var chars = maybeChunkStringAsHtml(string, _opts.html);\n    var charsAsQueueItems = chars.map(function (char) {\n      return {\n        func: function func() {\n          return _type(char);\n        },\n        char: char,\n        delay: instant || isNonVoidElement(char) ? 0 : _getPace(),\n        typeable: char.nodeType === Node.TEXT_NODE\n      };\n    });\n    var itemsToQueue = [bookEndQueueItems[0], {\n      func: function () {\n        var _func2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {\n          return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n            while (1) switch (_context14.prev = _context14.next) {\n              case 0:\n                _context14.next = 2;\n                return _opts.beforeString(string, _this3);\n              case 2:\n                return _context14.abrupt(\"return\", _context14.sent);\n              case 3:\n              case \"end\":\n                return _context14.stop();\n            }\n          }, _callee14);\n        }));\n        function func() {\n          return _func2.apply(this, arguments);\n        }\n        return func;\n      }()\n    }].concat(_toConsumableArray(charsAsQueueItems), [{\n      func: function () {\n        var _func3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15() {\n          return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n            while (1) switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.next = 2;\n                return _opts.afterString(string, _this3);\n              case 2:\n                return _context15.abrupt(\"return\", _context15.sent);\n              case 3:\n              case \"end\":\n                return _context15.stop();\n            }\n          }, _callee15);\n        }));\n        function func() {\n          return _func3.apply(this, arguments);\n        }\n        return func;\n      }()\n    }, bookEndQueueItems[1]]);\n    return _queueAndReturn(itemsToQueue, actionOpts);\n  };\n  this.is = function (key) {\n    return _statuses[key];\n  };\n  this.destroy = function () {\n    var shouldRemoveCursor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    _timeouts = destroyTimeouts(_timeouts);\n    handleFunctionalArg(shouldRemoveCursor) && _cursor && _removeNode(_cursor);\n    _statuses.destroyed = true;\n  };\n  this.freeze = function () {\n    _statuses.frozen = true;\n  };\n  this.unfreeze = function () {};\n  this.reset = function (rebuild) {\n    !this.is(\"destroyed\") && this.destroy();\n    if (rebuild) {\n      _queue.wipe();\n      rebuild(this);\n    } else {\n      _queue.reset();\n    }\n    _cursorPosition = 0;\n    for (var property in _statuses) {\n      _statuses[property] = false;\n    }\n    _element[_elementIsInput() ? \"value\" : \"innerHTML\"] = \"\";\n    return this;\n  };\n  this.go = function () {\n    if (_statuses.started) {\n      return this;\n    }\n    _attachCursor();\n    if (!_opts.waitUntilVisible) {\n      _fire();\n      return this;\n    }\n    fireWhenVisible(_element, _fire.bind(this));\n    return this;\n  };\n  this.flush = function () {\n    var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n    _attachCursor();\n    _fire(false).then(cb);\n    return this;\n  };\n  this.getQueue = function () {\n    return _queue;\n  };\n  this.getOptions = function () {\n    return _opts;\n  };\n  this.updateOptions = function (options2) {\n    return _options(options2);\n  };\n  this.getElement = function () {\n    return _element;\n  };\n  var _element = selectorToElement(element);\n  var _timeouts = [];\n  var _cursorPosition = 0;\n  var _predictedCursorPosition = null;\n  var _statuses = merge({}, DEFAULT_STATUSES);\n  options.cursor = processCursorOptions((_options$cursor = options.cursor) !== null && _options$cursor !== void 0 ? _options$cursor : DEFAULT_OPTIONS.cursor);\n  var _opts = merge(DEFAULT_OPTIONS, options);\n  _opts = merge(_opts, {\n    html: !_elementIsInput() && _opts.html,\n    nextStringDelay: calculateDelay(_opts.nextStringDelay),\n    loopDelay: calculateDelay(_opts.loopDelay)\n  });\n  var _id = generateHash();\n  var _queue = Queue([{\n    delay: _opts.startDelay\n  }]);\n  _element.dataset.typeitId = _id;\n  appendStyleBlock(PLACEHOLDER_CSS);\n  var _shouldRenderCursor = !!_opts.cursor && !_elementIsInput();\n  var _cursor = _setUpCursor();\n  _opts.strings = _maybePrependHardcodedStrings(asArray(_opts.strings));\n  if (_opts.strings.length) {\n    _generateQueue();\n  }\n};\nvar defaultProps = {\n  as: \"span\",\n  options: {},\n  getBeforeInit: function getBeforeInit(instance) {\n    return instance;\n  },\n  getAfterInit: function getAfterInit(instance) {\n    return instance;\n  }\n};\nvar DynamicElementComponent = forwardRef(function (props, ref) {\n  var As = props.as;\n  return /* @__PURE__ */React.createElement(As, _objectSpread({\n    ref: ref\n  }, props));\n});\nvar TypeIt = function TypeIt(props) {\n  var elementRef = useRef(null);\n  var instanceRef = useRef(null);\n  var options = props.options,\n    children = props.children,\n    getBeforeInit = props.getBeforeInit,\n    getAfterInit = props.getAfterInit,\n    remainingProps = _objectWithoutProperties(props, _excluded);\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    shouldShowChildren = _useState2[0],\n    setShouldShowChildren = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    instanceOptions = _useState4[0],\n    setInstanceOptions = _useState4[1];\n  function calculateOptions() {\n    var optionsClone = Object.assign({}, options);\n    if (children && elementRef.current) {\n      optionsClone.strings = elementRef.current.innerHTML;\n    }\n    setInstanceOptions(optionsClone);\n  }\n  function generateNewInstance() {\n    instanceRef.current = new TypeIt$1(elementRef.current, instanceOptions);\n    instanceRef.current = getBeforeInit(instanceRef.current);\n    instanceRef.current.go();\n    instanceRef.current = getAfterInit(instanceRef.current);\n  }\n  useEffect(function () {\n    calculateOptions();\n    setShouldShowChildren(false);\n  }, [options]);\n  useEffect(function () {\n    var _a;\n    if (!instanceOptions) return;\n    ((_a = instanceRef.current) == null ? void 0 : _a.updateOptions(instanceOptions)) || generateNewInstance();\n  }, [instanceOptions]);\n  useEffect(function () {\n    return function () {\n      var _a;\n      return (_a = instanceRef.current) == null ? void 0 : _a.destroy();\n    };\n  }, []);\n  return /* @__PURE__ */React.createElement(DynamicElementComponent, _objectSpread({\n    ref: elementRef,\n    children: shouldShowChildren ? children : null,\n    style: {\n      opacity: shouldShowChildren ? 0 : 1\n    }\n  }, remainingProps));\n};\nTypeIt.defaultProps = defaultProps;\nexport { TypeIt as default };","map":{"version":3,"names":["React","forwardRef","useRef","useState","useEffect","isArray","thing","Array","asArray","value","Queue","initialItems","add","steps","forEach","step","_a","_q","set","Symbol","char","innerText","buildQueueItem","_objectSpread","getTypeable","rawValues","filter","typeable","index","item","keys","_toConsumableArray","queueItem","shouldPauseCursor","Boolean","cursorable","deletable","reset","done","wipe","Map","getQueue","from","values","destroy","key","delete","getItems","all","arguments","length","undefined","i","shouldDestroy","get","toArray","val","createTextNode","content","document","expandTextNodes","element","childNodes","child","nodeValue","c","parentNode","insertBefore","remove","getParsedBody","doc","implementation","createHTMLDocument","body","innerHTML","DATA_ATTRIBUTE","CURSOR_CLASS","END","DEFAULT_STATUSES","started","completed","frozen","destroyed","DEFAULT_OPTIONS","breakLines","cursor","autoPause","autoPauseDelay","animation","frames","map","n","opacity","options","iterations","Infinity","easing","fill","cursorChar","cursorSpeed","deleteSpeed","html","lifeLike","loop","loopDelay","nextStringDelay","speed","startDelay","startDelete","strings","waitUntilVisible","beforeString","afterString","beforeStep","afterStep","afterComplete","PLACEHOLDER_CSS","concat","walkElementNodes","shouldReverse","shouldIncludeCursor","querySelector","walker","createTreeWalker","NodeFilter","SHOW_ALL","acceptNode","node","_b","classList","contains","FILTER_ACCEPT","FILTER_REJECT","nextNode","nodes","originalParent","push","reverse","chunkStringAsHtml","string","maybeChunkStringAsHtml","str","asHtml","createElement","el","appendStyleBlock","styles","id","styleBlock","appendChild","head","calculateDelay","delayArg","randomInRange","range2","Math","abs","random","range","calculatePace","destroyTimeouts","timeouts","clearTimeout","generateHash","toString","substring","isInput","getAllChars","fireWhenVisible","func","observer","IntersectionObserver","entries","observer2","entry","isIntersecting","unobserve","threshold","observe","handleFunctionalArg","arg","isNumber","Number","isInteger","select","selector","isBodyElement","test","tagName","insertIntoElement","originalTarget","character","textContent","target","updateCursorPosition","cursorPosition","printedCharacters","min","max","merge","originalObj","newObj","Object","assign","removeNode","rootElement","nodeParent","nodeToRemove","isSameNode","repositionCursor","allChars","newCursorPosition","nodeToInsertBefore","selectorToElement","isNonVoidElement","outerHTML","wait","callback","delay","Promise","resolve","cb","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","apply","setTimeout","cursorFontStyles","color","transform","setCursorStyles","rootSelector","cursorSelector","computedStyles","getComputedStyle","customProperties","reduce","accumulator","_ref2","_ref3","_slicedToArray","duplicate","times","countStepsToSelector","_ref4","queueItems","to","isMovingToEnd","RegExp","selectorIndex","findIndex","_ref5","parentElement","parentMatches","matches","firstChild","offset","beforePaint","requestAnimationFrame","_callee2","_callee2$","_context2","t0","t1","sent","getAnimationFromElement","getAnimations","find","dataset","tiAnimationId","setCursorAnimation","_ref7","animate","pause","play","rebuildCursorAnimation","_ref8","cursorOptions","oldCurrentTime","effect","getComputedTiming","currentTime","cancel","newAnimation","execute","call","fireItem","_ref10","_callee5","_ref9","wait2","instantQueue","tempIndex","futureItem","shouldBeGrouped","_callee5$","_context5","_callee3","_iterator","_step","q","_callee3$","_context3","_createForOfIteratorHelper","s","e","f","finish","abrupt","_callee4","_callee4$","_context4","_x","processCursorOptions","_cursorOptions$autoPa","newOptions","_DEFAULT_OPTIONS$curs","defaultFrames","defaultOptions","TypeIt$1","_this","_options$cursor","_wait","_ref13","_callee6","silent","_args6","_callee6$","_context6","_statuses","unfreeze","_opts","_timeouts","_x2","_x3","_fireItemWithContext","_cursor","_removeNode","_element","_elementIsInput","_getPace","_getAllChars","_maybeAppendPause","opts","_queue","_queueAndReturn","_getDerivedCursorPosition","_predictedCursorPosit","_predictedCursorPosition","_cursorPosition","_generateTemporaryOptionQueueItems","_options","_addSplitPause","items","_setUpCursor","className","_shouldRenderCursor","style","visibility","_attachCursor","_ref14","_callee7","options2","_callee7$","_context7","_id","duration","_generateQueue","type","splitItems","_type","_delete","_prepLoop","_ref15","_callee8","derivedCursorPosition","_callee8$","_context8","_move","_x4","_maybePrependHardcodedStrings","existingMarkup","hardCodedStrings","replace","trim","split","_fire","_ref16","_callee10","remember","cleanUp","_queueItems$index","queueKey","newIndex","_args10","_callee10$","_context10","qKey","x","y","_queueItems$i","_callee9","_callee9$","_context9","_ref18","_callee11","_callee11$","_context11","_x5","_ref19","_callee12","_callee12$","_context12","_x6","_empty","_ref20","_callee13","_callee13$","_context13","slice","break","actionOpts","numCharacters","bookEndQueueItems","num","instant","typeableQueueItems","rounds","empty","exec","_this2","move","movementArg","numberOfSteps","directionalStep","milliseconds","_this3","chars","charsAsQueueItems","nodeType","Node","TEXT_NODE","itemsToQueue","_func2","_callee14","_callee14$","_context14","_func3","_callee15","_callee15$","_context15","is","shouldRemoveCursor","freeze","rebuild","property","go","bind","flush","then","getOptions","updateOptions","getElement","typeitId","defaultProps","as","getBeforeInit","instance","getAfterInit","DynamicElementComponent","props","ref","As","TypeIt","elementRef","instanceRef","children","remainingProps","_objectWithoutProperties","_excluded","_useState","_useState2","shouldShowChildren","setShouldShowChildren","_useState3","_useState4","instanceOptions","setInstanceOptions","calculateOptions","optionsClone","current","generateNewInstance","default"],"sources":["/Users/behzad/Desktop/swr/node_modules/typeit-react/dist/index.es.js"],"sourcesContent":["import React, { forwardRef, useRef, useState, useEffect } from \"react\";\nconst isArray = (thing) => Array.isArray(thing);\nconst asArray = (value) => {\n  return isArray(value) ? value : [value];\n};\nlet Queue = function(initialItems) {\n  let add = function(steps) {\n    asArray(steps).forEach((step) => {\n      var _a;\n      return _q.set(Symbol((_a = step.char) == null ? void 0 : _a.innerText), buildQueueItem({ ...step }));\n    });\n    return this;\n  };\n  let getTypeable = () => rawValues().filter((value) => value.typeable);\n  let set = function(index, item) {\n    let keys = [..._q.keys()];\n    _q.set(keys[index], buildQueueItem(item));\n  };\n  let buildQueueItem = (queueItem) => {\n    queueItem.shouldPauseCursor = function() {\n      return Boolean(this.typeable || this.cursorable || this.deletable);\n    };\n    return queueItem;\n  };\n  let reset = function() {\n    _q.forEach((item) => delete item.done);\n  };\n  let wipe = function() {\n    _q = /* @__PURE__ */ new Map();\n    add(initialItems);\n  };\n  let getQueue = () => _q;\n  let rawValues = () => Array.from(_q.values());\n  let destroy = (key) => _q.delete(key);\n  let getItems = (all = false) => all ? rawValues() : rawValues().filter((i) => !i.done);\n  let done = (key, shouldDestroy = false) => shouldDestroy ? _q.delete(key) : _q.get(key).done = true;\n  let _q = /* @__PURE__ */ new Map();\n  add(initialItems);\n  return {\n    add,\n    set,\n    wipe,\n    reset,\n    destroy,\n    done,\n    getItems,\n    getQueue,\n    getTypeable\n  };\n};\nconst toArray = (val) => Array.from(val);\nconst createTextNode = (content) => document.createTextNode(content);\nlet expandTextNodes = (element) => {\n  [...element.childNodes].forEach((child) => {\n    if (child.nodeValue) {\n      [...child.nodeValue].forEach((c) => {\n        child.parentNode.insertBefore(createTextNode(c), child);\n      });\n      child.remove();\n      return;\n    }\n    expandTextNodes(child);\n  });\n  return element;\n};\nconst getParsedBody = (content) => {\n  let doc = document.implementation.createHTMLDocument();\n  doc.body.innerHTML = content;\n  return expandTextNodes(doc.body);\n};\nconst DATA_ATTRIBUTE = \"data-typeit-id\";\nconst CURSOR_CLASS = \"ti-cursor\";\nconst END = \"END\";\nconst DEFAULT_STATUSES = {\n  started: false,\n  completed: false,\n  frozen: false,\n  destroyed: false\n};\nconst DEFAULT_OPTIONS = {\n  breakLines: true,\n  cursor: {\n    autoPause: true,\n    autoPauseDelay: 500,\n    animation: {\n      frames: [0, 0, 1].map((n) => {\n        return { opacity: n };\n      }),\n      options: {\n        iterations: Infinity,\n        easing: \"steps(2, start)\",\n        fill: \"forwards\"\n      }\n    }\n  },\n  cursorChar: \"|\",\n  cursorSpeed: 1e3,\n  deleteSpeed: null,\n  html: true,\n  lifeLike: true,\n  loop: false,\n  loopDelay: 750,\n  nextStringDelay: 750,\n  speed: 100,\n  startDelay: 250,\n  startDelete: false,\n  strings: [],\n  waitUntilVisible: false,\n  beforeString: () => {\n  },\n  afterString: () => {\n  },\n  beforeStep: () => {\n  },\n  afterStep: () => {\n  },\n  afterComplete: () => {\n  }\n};\nconst PLACEHOLDER_CSS = `[${DATA_ATTRIBUTE}]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}`;\nfunction walkElementNodes(element, shouldReverse = false, shouldIncludeCursor = false) {\n  let cursor = element.querySelector(`.${CURSOR_CLASS}`);\n  let walker = document.createTreeWalker(element, NodeFilter.SHOW_ALL, {\n    acceptNode: (node) => {\n      var _a, _b;\n      if (cursor && shouldIncludeCursor) {\n        if ((_a = node.classList) == null ? void 0 : _a.contains(CURSOR_CLASS)) {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n        if (cursor.contains(node)) {\n          return NodeFilter.FILTER_REJECT;\n        }\n      }\n      return ((_b = node.classList) == null ? void 0 : _b.contains(CURSOR_CLASS)) ? NodeFilter.FILTER_REJECT : NodeFilter.FILTER_ACCEPT;\n    }\n  });\n  let nextNode;\n  let nodes = [];\n  while (nextNode = walker.nextNode()) {\n    if (!nextNode.originalParent) {\n      nextNode.originalParent = nextNode.parentNode;\n    }\n    nodes.push(nextNode);\n  }\n  return shouldReverse ? nodes.reverse() : nodes;\n}\nfunction chunkStringAsHtml(string) {\n  return walkElementNodes(getParsedBody(string));\n}\nfunction maybeChunkStringAsHtml(str, asHtml = true) {\n  return asHtml ? chunkStringAsHtml(str) : toArray(str).map(createTextNode);\n}\nconst createElement = (el) => document.createElement(el);\nconst appendStyleBlock = (styles, id = \"\") => {\n  let styleBlock = createElement(\"style\");\n  styleBlock.id = id;\n  styleBlock.appendChild(createTextNode(styles));\n  document.head.appendChild(styleBlock);\n};\nconst calculateDelay = (delayArg) => {\n  if (!isArray(delayArg)) {\n    delayArg = [delayArg / 2, delayArg / 2];\n  }\n  return delayArg;\n};\nconst randomInRange = (value, range2) => {\n  return Math.abs(\n    Math.random() * (value + range2 - (value - range2)) + (value - range2)\n  );\n};\nlet range = (val) => val / 2;\nfunction calculatePace(options) {\n  let { speed, deleteSpeed, lifeLike } = options;\n  deleteSpeed = deleteSpeed !== null ? deleteSpeed : speed / 3;\n  return lifeLike ? [\n    randomInRange(speed, range(speed)),\n    randomInRange(deleteSpeed, range(deleteSpeed))\n  ] : [speed, deleteSpeed];\n}\nconst destroyTimeouts = (timeouts) => {\n  timeouts.forEach(clearTimeout);\n  return [];\n};\nconst generateHash = () => Math.random().toString().substring(2, 9);\nconst isInput = (el) => \"value\" in el;\nlet getAllChars = (element) => {\n  if (isInput(element)) {\n    return toArray(element.value);\n  }\n  return walkElementNodes(element, true).filter(\n    (c) => !(c.childNodes.length > 0)\n  );\n};\nconst fireWhenVisible = (element, func) => {\n  let observer = new IntersectionObserver(\n    (entries, observer2) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          func();\n          observer2.unobserve(element);\n        }\n      });\n    },\n    { threshold: 1 }\n  );\n  observer.observe(element);\n};\nlet handleFunctionalArg = (arg) => {\n  return typeof arg === \"function\" ? arg() : arg;\n};\nconst isNumber = (value) => Number.isInteger(value);\nlet select = (selector, element = document, all = false) => {\n  return element[`querySelector${all ? \"All\" : \"\"}`](selector);\n};\nlet isBodyElement = (node) => /body/i.test(node == null ? void 0 : node.tagName);\nlet insertIntoElement = (originalTarget, character) => {\n  if (isInput(originalTarget)) {\n    originalTarget.value = `${originalTarget.value}${character.textContent}`;\n    return;\n  }\n  character.innerHTML = \"\";\n  let target = isBodyElement(character.originalParent) ? originalTarget : character.originalParent || originalTarget;\n  target.insertBefore(\n    character,\n    select(\".\" + CURSOR_CLASS, target) || null\n  );\n};\nlet updateCursorPosition = (steps, cursorPosition, printedCharacters) => {\n  return Math.min(\n    Math.max(cursorPosition + steps, 0),\n    printedCharacters.length\n  );\n};\nconst merge = (originalObj, newObj) => Object.assign({}, originalObj, newObj);\nconst removeNode = (node, rootElement) => {\n  if (!node)\n    return;\n  let nodeParent = node.parentNode;\n  let nodeToRemove = nodeParent.childNodes.length > 1 || nodeParent.isSameNode(rootElement) ? node : nodeParent;\n  nodeToRemove.remove();\n};\nconst repositionCursor = (element, allChars, newCursorPosition) => {\n  let nodeToInsertBefore = allChars[newCursorPosition - 1];\n  let cursor = select(`.${CURSOR_CLASS}`, element);\n  element = (nodeToInsertBefore == null ? void 0 : nodeToInsertBefore.parentNode) || element;\n  element.insertBefore(cursor, nodeToInsertBefore || null);\n};\nfunction selectorToElement(thing) {\n  return typeof thing === \"string\" ? select(thing) : thing;\n}\nconst isNonVoidElement = (el) => /<(.+)>(.*?)<\\/(.+)>/.test(el.outerHTML);\nlet wait = (callback, delay, timeouts) => {\n  return new Promise((resolve) => {\n    let cb = async () => {\n      await callback();\n      resolve();\n    };\n    timeouts.push(setTimeout(cb, delay || 0));\n  });\n};\nlet cursorFontStyles = {\n  \"font-family\": \"\",\n  \"font-weight\": \"\",\n  \"font-size\": \"\",\n  \"font-style\": \"\",\n  \"line-height\": \"\",\n  color: \"\",\n  transform: \"translateX(-.125em)\"\n};\nlet setCursorStyles = (id, element) => {\n  let rootSelector = `[${DATA_ATTRIBUTE}='${id}']`;\n  let cursorSelector = `${rootSelector} .${CURSOR_CLASS}`;\n  let computedStyles = getComputedStyle(element);\n  let customProperties = Object.entries(cursorFontStyles).reduce(\n    (accumulator, [item, value]) => {\n      return `${accumulator} ${item}: var(--ti-cursor-${item}, ${value || computedStyles[item]});`;\n    },\n    \"\"\n  );\n  appendStyleBlock(\n    `${cursorSelector} { display: inline-block; width: 0; ${customProperties} }`,\n    id\n  );\n};\nconst duplicate = (value, times) => new Array(times).fill(value);\nconst countStepsToSelector = ({\n  queueItems,\n  selector,\n  cursorPosition,\n  to\n}) => {\n  if (isNumber(selector)) {\n    return selector * -1;\n  }\n  let isMovingToEnd = new RegExp(END, \"i\").test(to);\n  let selectorIndex = selector ? [...queueItems].reverse().findIndex(({ char }) => {\n    let parentElement = char.parentElement;\n    let parentMatches = parentElement.matches(selector);\n    if (isMovingToEnd && parentMatches) {\n      return true;\n    }\n    return parentMatches && parentElement.firstChild.isSameNode(char);\n  }) : -1;\n  if (selectorIndex < 0) {\n    selectorIndex = isMovingToEnd ? 0 : queueItems.length - 1;\n  }\n  let offset = isMovingToEnd ? 0 : 1;\n  return selectorIndex - cursorPosition + offset;\n};\nlet beforePaint = (cb) => {\n  return new Promise((resolve) => {\n    requestAnimationFrame(async () => {\n      resolve(await cb());\n    });\n  });\n};\nlet getAnimationFromElement = (element) => {\n  return element == null ? void 0 : element.getAnimations().find((animation) => {\n    return animation.id === element.dataset.tiAnimationId;\n  });\n};\nlet setCursorAnimation = ({\n  cursor,\n  frames,\n  options\n}) => {\n  let animation = cursor.animate(frames, options);\n  animation.pause();\n  animation.id = cursor.dataset.tiAnimationId;\n  beforePaint(() => {\n    beforePaint(() => {\n      animation.play();\n    });\n  });\n  return animation;\n};\nlet rebuildCursorAnimation = ({\n  cursor,\n  options,\n  cursorOptions\n}) => {\n  if (!cursor || !cursorOptions)\n    return;\n  let animation = getAnimationFromElement(cursor);\n  let oldCurrentTime;\n  if (animation) {\n    options.delay = animation.effect.getComputedTiming().delay;\n    oldCurrentTime = animation.currentTime;\n    animation.cancel();\n  }\n  let newAnimation = setCursorAnimation({\n    cursor,\n    frames: cursorOptions.animation.frames,\n    options\n  });\n  if (oldCurrentTime) {\n    newAnimation.currentTime = oldCurrentTime;\n  }\n  return newAnimation;\n};\nlet execute = (queueItem) => {\n  var _a;\n  return (_a = queueItem.func) == null ? void 0 : _a.call(null);\n};\nlet fireItem = async ({\n  index,\n  queueItems,\n  wait: wait2,\n  cursor,\n  cursorOptions\n}) => {\n  let queueItem = queueItems[index][1];\n  let instantQueue = [];\n  let tempIndex = index;\n  let futureItem = queueItem;\n  let shouldBeGrouped = () => futureItem && !futureItem.delay;\n  let shouldPauseCursor = queueItem.shouldPauseCursor() && cursorOptions.autoPause;\n  while (shouldBeGrouped()) {\n    instantQueue.push(futureItem);\n    shouldBeGrouped() && tempIndex++;\n    futureItem = queueItems[tempIndex] ? queueItems[tempIndex][1] : null;\n  }\n  if (instantQueue.length) {\n    await beforePaint(async () => {\n      for (let q of instantQueue) {\n        await execute(q);\n      }\n    });\n    return tempIndex - 1;\n  }\n  let animation = getAnimationFromElement(cursor);\n  let options;\n  if (animation) {\n    options = {\n      ...animation.effect.getComputedTiming(),\n      delay: shouldPauseCursor ? cursorOptions.autoPauseDelay : 0\n    };\n  }\n  await wait2(async () => {\n    if (animation && shouldPauseCursor) {\n      animation.cancel();\n    }\n    await beforePaint(() => {\n      execute(queueItem);\n    });\n  }, queueItem.delay);\n  await rebuildCursorAnimation({\n    cursor,\n    options,\n    cursorOptions\n  });\n  return index;\n};\nlet processCursorOptions = (cursorOptions) => {\n  var _a, _b;\n  if (typeof cursorOptions === \"object\") {\n    let newOptions = {};\n    let { frames: defaultFrames, options: defaultOptions } = DEFAULT_OPTIONS.cursor.animation;\n    newOptions.animation = cursorOptions.animation || {};\n    newOptions.animation.frames = ((_a = cursorOptions.animation) == null ? void 0 : _a.frames) || defaultFrames;\n    newOptions.animation.options = merge(\n      defaultOptions,\n      ((_b = cursorOptions.animation) == null ? void 0 : _b.options) || {}\n    );\n    newOptions.autoPause = cursorOptions.autoPause ?? DEFAULT_OPTIONS.cursor.autoPause;\n    newOptions.autoPauseDelay = cursorOptions.autoPauseDelay || DEFAULT_OPTIONS.cursor.autoPauseDelay;\n    return newOptions;\n  }\n  if (cursorOptions === true) {\n    return DEFAULT_OPTIONS.cursor;\n  }\n  return cursorOptions;\n};\nconst TypeIt$1 = function(element, options = {}) {\n  let _wait = async (callback, delay, silent = false) => {\n    if (_statuses.frozen) {\n      await new Promise((resolve) => {\n        this.unfreeze = () => {\n          _statuses.frozen = false;\n          resolve();\n        };\n      });\n    }\n    silent || await _opts.beforeStep(this);\n    await wait(callback, delay, _timeouts);\n    silent || await _opts.afterStep(this);\n  };\n  let _fireItemWithContext = (index, queueItems) => {\n    return fireItem({\n      index,\n      queueItems,\n      wait: _wait,\n      cursor: _cursor,\n      cursorOptions: _opts.cursor\n    });\n  };\n  let _removeNode = (node) => removeNode(node, _element);\n  let _elementIsInput = () => isInput(_element);\n  let _getPace = (index = 0) => calculatePace(_opts)[index];\n  let _getAllChars = () => getAllChars(_element);\n  let _maybeAppendPause = (opts = {}) => {\n    let delay = opts.delay;\n    delay && _queue.add({ delay });\n  };\n  let _queueAndReturn = (steps, opts) => {\n    _queue.add(steps);\n    _maybeAppendPause(opts);\n    return this;\n  };\n  let _getDerivedCursorPosition = () => _predictedCursorPosition ?? _cursorPosition;\n  let _generateTemporaryOptionQueueItems = (newOptions = {}) => {\n    return [\n      { func: () => _options(newOptions) },\n      { func: () => _options(_opts) }\n    ];\n  };\n  let _addSplitPause = (items) => {\n    let delay = _opts.nextStringDelay;\n    _queue.add([{ delay: delay[0] }, ...items, { delay: delay[1] }]);\n  };\n  let _setUpCursor = () => {\n    if (_elementIsInput()) {\n      return;\n    }\n    let cursor = createElement(\"span\");\n    cursor.className = CURSOR_CLASS;\n    if (!_shouldRenderCursor) {\n      cursor.style.visibility = \"hidden\";\n      return cursor;\n    }\n    cursor.innerHTML = getParsedBody(_opts.cursorChar).innerHTML;\n    return cursor;\n  };\n  let _attachCursor = async () => {\n    !_elementIsInput() && _cursor && _element.appendChild(_cursor);\n    if (_shouldRenderCursor) {\n      setCursorStyles(_id, _element);\n      _cursor.dataset.tiAnimationId = _id;\n      let { animation } = _opts.cursor;\n      let { frames, options: options2 } = animation;\n      setCursorAnimation({\n        frames,\n        cursor: _cursor,\n        options: {\n          duration: _opts.cursorSpeed,\n          ...options2\n        }\n      });\n    }\n  };\n  let _generateQueue = () => {\n    let strings = _opts.strings.filter((string) => !!string);\n    strings.forEach((string, index) => {\n      this.type(string);\n      if (index + 1 === strings.length) {\n        return;\n      }\n      let splitItems = _opts.breakLines ? [{ func: () => _type(createElement(\"BR\")), typeable: true }] : duplicate(\n        {\n          func: _delete,\n          delay: _getPace(1)\n        },\n        _queue.getTypeable().length\n      );\n      _addSplitPause(splitItems);\n    });\n  };\n  let _prepLoop = async (delay) => {\n    let derivedCursorPosition = _getDerivedCursorPosition();\n    derivedCursorPosition && await _move({ value: derivedCursorPosition });\n    let queueItems = _getAllChars().map((c) => {\n      return [\n        Symbol(),\n        {\n          func: _delete,\n          delay: _getPace(1),\n          deletable: true,\n          shouldPauseCursor: () => true\n        }\n      ];\n    });\n    for (let index = 0; index < queueItems.length; index++) {\n      await _fireItemWithContext(index, queueItems);\n    }\n    _queue.reset();\n    _queue.set(0, { delay });\n  };\n  let _maybePrependHardcodedStrings = (strings) => {\n    let existingMarkup = _element.innerHTML;\n    if (!existingMarkup) {\n      return strings;\n    }\n    _element.innerHTML = \"\";\n    if (_opts.startDelete) {\n      _element.innerHTML = existingMarkup;\n      expandTextNodes(_element);\n      _addSplitPause(\n        duplicate(\n          {\n            func: _delete,\n            delay: _getPace(1),\n            deletable: true\n          },\n          _getAllChars().length\n        )\n      );\n      return strings;\n    }\n    let hardCodedStrings = existingMarkup.replace(/<!--(.+?)-->/g, \"\").trim().split(/<br(?:\\s*?)(?:\\/)?>/);\n    return hardCodedStrings.concat(strings);\n  };\n  let _fire = async (remember = true) => {\n    _statuses.started = true;\n    let cleanUp = (qKey) => {\n      _queue.done(qKey, !remember);\n    };\n    try {\n      let queueItems = [..._queue.getQueue()];\n      for (let index = 0; index < queueItems.length; index++) {\n        let [queueKey, queueItem] = queueItems[index];\n        if (queueItem.done)\n          continue;\n        if (!queueItem.deletable || queueItem.deletable && _getAllChars().length) {\n          let newIndex = await _fireItemWithContext(index, queueItems);\n          Array(newIndex - index).fill(index + 1).map((x, y) => x + y).forEach((i) => {\n            let [key] = queueItems[i];\n            cleanUp(key);\n          });\n          index = newIndex;\n        }\n        cleanUp(queueKey);\n      }\n      if (!remember) {\n        return this;\n      }\n      _statuses.completed = true;\n      await _opts.afterComplete(this);\n      if (!_opts.loop) {\n        throw \"\";\n      }\n      let delay = _opts.loopDelay;\n      _wait(async () => {\n        await _prepLoop(delay[0]);\n        _fire();\n      }, delay[1]);\n    } catch (e) {\n    }\n    return this;\n  };\n  let _move = async (step) => {\n    _cursorPosition = updateCursorPosition(\n      step,\n      _cursorPosition,\n      _getAllChars()\n    );\n    repositionCursor(_element, _getAllChars(), _cursorPosition);\n  };\n  let _type = (char) => insertIntoElement(_element, char);\n  let _options = async (opts) => _opts = merge(_opts, opts);\n  let _empty = async () => {\n    if (_elementIsInput()) {\n      _element.value = \"\";\n      return;\n    }\n    _getAllChars().forEach(_removeNode);\n    return;\n  };\n  let _delete = () => {\n    let allChars = _getAllChars();\n    if (!allChars.length)\n      return;\n    if (_elementIsInput()) {\n      _element.value = _element.value.slice(0, -1);\n    } else {\n      _removeNode(allChars[_cursorPosition]);\n    }\n  };\n  this.break = function(actionOpts) {\n    return _queueAndReturn(\n      {\n        func: () => _type(createElement(\"BR\")),\n        typeable: true\n      },\n      actionOpts\n    );\n  };\n  this.delete = function(numCharacters = null, actionOpts = {}) {\n    numCharacters = handleFunctionalArg(numCharacters);\n    let bookEndQueueItems = _generateTemporaryOptionQueueItems(actionOpts);\n    let num = numCharacters;\n    let { instant, to } = actionOpts;\n    let typeableQueueItems = _queue.getTypeable();\n    let rounds = (() => {\n      if (num === null) {\n        return typeableQueueItems.length;\n      }\n      if (isNumber(num)) {\n        return num;\n      }\n      return countStepsToSelector({\n        queueItems: typeableQueueItems,\n        selector: num,\n        cursorPosition: _getDerivedCursorPosition(),\n        to\n      });\n    })();\n    return _queueAndReturn(\n      [\n        bookEndQueueItems[0],\n        ...duplicate(\n          {\n            func: _delete,\n            delay: instant ? 0 : _getPace(1),\n            deletable: true\n          },\n          rounds\n        ),\n        bookEndQueueItems[1]\n      ],\n      actionOpts\n    );\n  };\n  this.empty = function(actionOpts = {}) {\n    return _queueAndReturn({ func: _empty }, actionOpts);\n  };\n  this.exec = function(func, actionOpts = {}) {\n    let bookEndQueueItems = _generateTemporaryOptionQueueItems(actionOpts);\n    return _queueAndReturn(\n      [bookEndQueueItems[0], { func: () => func(this) }, bookEndQueueItems[1]],\n      actionOpts\n    );\n  };\n  this.move = function(movementArg, actionOpts = {}) {\n    movementArg = handleFunctionalArg(movementArg);\n    let bookEndQueueItems = _generateTemporaryOptionQueueItems(actionOpts);\n    let { instant, to } = actionOpts;\n    let numberOfSteps = countStepsToSelector({\n      queueItems: _queue.getTypeable(),\n      selector: movementArg === null ? \"\" : movementArg,\n      to,\n      cursorPosition: _getDerivedCursorPosition()\n    });\n    let directionalStep = numberOfSteps < 0 ? -1 : 1;\n    _predictedCursorPosition = _getDerivedCursorPosition() + numberOfSteps;\n    return _queueAndReturn(\n      [\n        bookEndQueueItems[0],\n        ...duplicate(\n          {\n            func: () => _move(directionalStep),\n            delay: instant ? 0 : _getPace(),\n            cursorable: true\n          },\n          Math.abs(numberOfSteps)\n        ),\n        bookEndQueueItems[1]\n      ],\n      actionOpts\n    );\n  };\n  this.options = function(opts, actionOpts = {}) {\n    opts = handleFunctionalArg(opts);\n    _options(opts);\n    return _queueAndReturn({}, actionOpts);\n  };\n  this.pause = function(milliseconds, actionOpts = {}) {\n    return _queueAndReturn(\n      { delay: handleFunctionalArg(milliseconds) },\n      actionOpts\n    );\n  };\n  this.type = function(string, actionOpts = {}) {\n    string = handleFunctionalArg(string);\n    let { instant } = actionOpts;\n    let bookEndQueueItems = _generateTemporaryOptionQueueItems(actionOpts);\n    let chars = maybeChunkStringAsHtml(string, _opts.html);\n    let charsAsQueueItems = chars.map((char) => {\n      return {\n        func: () => _type(char),\n        char,\n        delay: instant || isNonVoidElement(char) ? 0 : _getPace(),\n        typeable: char.nodeType === Node.TEXT_NODE\n      };\n    });\n    let itemsToQueue = [\n      bookEndQueueItems[0],\n      { func: async () => await _opts.beforeString(string, this) },\n      ...charsAsQueueItems,\n      { func: async () => await _opts.afterString(string, this) },\n      bookEndQueueItems[1]\n    ];\n    return _queueAndReturn(itemsToQueue, actionOpts);\n  };\n  this.is = function(key) {\n    return _statuses[key];\n  };\n  this.destroy = function(shouldRemoveCursor = true) {\n    _timeouts = destroyTimeouts(_timeouts);\n    handleFunctionalArg(shouldRemoveCursor) && _cursor && _removeNode(_cursor);\n    _statuses.destroyed = true;\n  };\n  this.freeze = function() {\n    _statuses.frozen = true;\n  };\n  this.unfreeze = () => {\n  };\n  this.reset = function(rebuild) {\n    !this.is(\"destroyed\") && this.destroy();\n    if (rebuild) {\n      _queue.wipe();\n      rebuild(this);\n    } else {\n      _queue.reset();\n    }\n    _cursorPosition = 0;\n    for (let property in _statuses) {\n      _statuses[property] = false;\n    }\n    _element[_elementIsInput() ? \"value\" : \"innerHTML\"] = \"\";\n    return this;\n  };\n  this.go = function() {\n    if (_statuses.started) {\n      return this;\n    }\n    _attachCursor();\n    if (!_opts.waitUntilVisible) {\n      _fire();\n      return this;\n    }\n    fireWhenVisible(_element, _fire.bind(this));\n    return this;\n  };\n  this.flush = function(cb = () => {\n  }) {\n    _attachCursor();\n    _fire(false).then(cb);\n    return this;\n  };\n  this.getQueue = () => _queue;\n  this.getOptions = () => _opts;\n  this.updateOptions = (options2) => _options(options2);\n  this.getElement = () => _element;\n  let _element = selectorToElement(element);\n  let _timeouts = [];\n  let _cursorPosition = 0;\n  let _predictedCursorPosition = null;\n  let _statuses = merge({}, DEFAULT_STATUSES);\n  options.cursor = processCursorOptions(\n    options.cursor ?? DEFAULT_OPTIONS.cursor\n  );\n  let _opts = merge(DEFAULT_OPTIONS, options);\n  _opts = merge(_opts, {\n    html: !_elementIsInput() && _opts.html,\n    nextStringDelay: calculateDelay(_opts.nextStringDelay),\n    loopDelay: calculateDelay(_opts.loopDelay)\n  });\n  let _id = generateHash();\n  let _queue = Queue([{ delay: _opts.startDelay }]);\n  _element.dataset.typeitId = _id;\n  appendStyleBlock(PLACEHOLDER_CSS);\n  let _shouldRenderCursor = !!_opts.cursor && !_elementIsInput();\n  let _cursor = _setUpCursor();\n  _opts.strings = _maybePrependHardcodedStrings(asArray(_opts.strings));\n  if (_opts.strings.length) {\n    _generateQueue();\n  }\n};\nconst defaultProps = {\n  as: \"span\",\n  options: {},\n  getBeforeInit: (instance) => instance,\n  getAfterInit: (instance) => instance\n};\nconst DynamicElementComponent = forwardRef((props, ref) => {\n  const { as: As } = props;\n  return /* @__PURE__ */ React.createElement(As, { ref, ...props });\n});\nconst TypeIt = (props) => {\n  const elementRef = useRef(null);\n  const instanceRef = useRef(null);\n  const { options, children, getBeforeInit, getAfterInit, ...remainingProps } = props;\n  const [shouldShowChildren, setShouldShowChildren] = useState(true);\n  const [instanceOptions, setInstanceOptions] = useState(null);\n  function calculateOptions() {\n    const optionsClone = Object.assign({}, options);\n    if (children && elementRef.current) {\n      optionsClone.strings = elementRef.current.innerHTML;\n    }\n    setInstanceOptions(optionsClone);\n  }\n  function generateNewInstance() {\n    instanceRef.current = new TypeIt$1(elementRef.current, instanceOptions);\n    instanceRef.current = getBeforeInit(instanceRef.current);\n    instanceRef.current.go();\n    instanceRef.current = getAfterInit(instanceRef.current);\n  }\n  useEffect(() => {\n    calculateOptions();\n    setShouldShowChildren(false);\n  }, [options]);\n  useEffect(() => {\n    var _a;\n    if (!instanceOptions)\n      return;\n    ((_a = instanceRef.current) == null ? void 0 : _a.updateOptions(instanceOptions)) || generateNewInstance();\n  }, [instanceOptions]);\n  useEffect(() => {\n    return () => {\n      var _a;\n      return (_a = instanceRef.current) == null ? void 0 : _a.destroy();\n    };\n  }, []);\n  return /* @__PURE__ */ React.createElement(\n    DynamicElementComponent,\n    {\n      ref: elementRef,\n      children: shouldShowChildren ? children : null,\n      style: { opacity: shouldShowChildren ? 0 : 1 },\n      ...remainingProps\n    }\n  );\n};\nTypeIt.defaultProps = defaultProps;\nexport {\n  TypeIt as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}