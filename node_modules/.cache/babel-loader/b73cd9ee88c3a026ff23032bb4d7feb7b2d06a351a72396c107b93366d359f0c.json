{"ast":null,"code":"import React from\"react\";import useSWRInfinite from\"swr/infinite\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getKey=function getKey(pageIndex,previousPageData){if(previousPageData&&!previousPageData.length)return null;return\"http://localhost:8000/bestpost?_page=\".concat(pageIndex,\"&_limit=10\");};var LastPost=function LastPost(){var _useSWRInfinite=useSWRInfinite(getKey,{initialSize:1,revalidateFirstPage:false}),data=_useSWRInfinite.data,size=_useSWRInfinite.size,setSize=_useSWRInfinite.setSize;return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"lead fs-3\",children:\"Welcome to Last Post Page\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"index\"}),/*#__PURE__*/_jsx(\"th\",{children:\"name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"text\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(posts,indexPost){return posts.map(function(post,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:indexPost*10+index+1}),/*#__PURE__*/_jsx(\"td\",{children:post.title}),/*#__PURE__*/_jsx(\"td\",{children:post.email}),/*#__PURE__*/_jsx(\"td\",{children:post.text})]},post.id);});})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSize(size+1);},className:\"btn btn-outline-secondary w-100 my-5\",children:\"Load more ...\"})]});};export default LastPost;","map":{"version":3,"names":["React","useSWRInfinite","jsx","_jsx","jsxs","_jsxs","getKey","pageIndex","previousPageData","length","concat","LastPost","_useSWRInfinite","initialSize","revalidateFirstPage","data","size","setSize","className","children","map","posts","indexPost","post","index","title","email","text","id","onClick"],"sources":["/Users/behzad/Desktop/swr/src/pages/lastPost/LastPost.jsx"],"sourcesContent":["import React from \"react\";\nimport useSWRInfinite from \"swr/infinite\";\n\nconst getKey = (pageIndex, previousPageData) => {\n  if (previousPageData && !previousPageData.length) return null;\n  return `http://localhost:8000/bestpost?_page=${pageIndex}&_limit=10`;\n};\n\nconst LastPost = () => {\n  const { data, size, setSize } = useSWRInfinite(getKey, {\n    initialSize: 1,\n    revalidateFirstPage: false,\n  });\n\n  return (\n    <div className=\"container mt-3\">\n      <h1 className=\"lead fs-3\">Welcome to Last Post Page</h1>\n      <hr />\n      <table className=\"table table-striped table-hover\">\n        <thead>\n          <tr>\n            <th>index</th>\n            <th>name</th>\n            <th>email</th>\n            <th>text</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data.map((posts, indexPost) =>\n            posts.map((post, index) => (\n              <tr key={post.id}>\n                <td>{indexPost * 10 + index + 1}</td>\n                <td>{post.title}</td>\n                <td>{post.email}</td>\n                <td>{post.text}</td>\n              </tr>\n            ))\n          )}\n        </tbody>\n      </table>\n      <button\n        onClick={() => setSize(size + 1)}\n        className=\"btn btn-outline-secondary w-100 my-5\"\n      >\n        Load more ...\n      </button>\n    </div>\n  );\n};\n\nexport default LastPost;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,cAAc,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAIC,SAAS,CAAEC,gBAAgB,CAAK,CAC9C,GAAIA,gBAAgB,EAAI,CAACA,gBAAgB,CAACC,MAAM,CAAE,MAAO,KAAI,CAC7D,8CAAAC,MAAA,CAA+CH,SAAS,eAC1D,CAAC,CAED,GAAM,CAAAI,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACrB,IAAAC,eAAA,CAAgCX,cAAc,CAACK,MAAM,CAAE,CACrDO,WAAW,CAAE,CAAC,CACdC,mBAAmB,CAAE,KACvB,CAAC,CAAC,CAHMC,IAAI,CAAAH,eAAA,CAAJG,IAAI,CAAEC,IAAI,CAAAJ,eAAA,CAAJI,IAAI,CAAEC,OAAO,CAAAL,eAAA,CAAPK,OAAO,CAK3B,mBACEZ,KAAA,QAAKa,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BhB,IAAA,OAAIe,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,2BAAyB,EAAK,cACxDhB,IAAA,SAAM,cACNE,KAAA,UAAOa,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAChDhB,IAAA,UAAAgB,QAAA,cACEd,KAAA,OAAAc,QAAA,eACEhB,IAAA,OAAAgB,QAAA,CAAI,OAAK,EAAK,cACdhB,IAAA,OAAAgB,QAAA,CAAI,MAAI,EAAK,cACbhB,IAAA,OAAAgB,QAAA,CAAI,OAAK,EAAK,cACdhB,IAAA,OAAAgB,QAAA,CAAI,MAAI,EAAK,GACV,EACC,cACRhB,IAAA,UAAAgB,QAAA,CACGJ,IAAI,CAACK,GAAG,CAAC,SAACC,KAAK,CAAEC,SAAS,QACzB,CAAAD,KAAK,CAACD,GAAG,CAAC,SAACG,IAAI,CAAEC,KAAK,qBACpBnB,KAAA,OAAAc,QAAA,eACEhB,IAAA,OAAAgB,QAAA,CAAKG,SAAS,CAAG,EAAE,CAAGE,KAAK,CAAG,CAAC,EAAM,cACrCrB,IAAA,OAAAgB,QAAA,CAAKI,IAAI,CAACE,KAAK,EAAM,cACrBtB,IAAA,OAAAgB,QAAA,CAAKI,IAAI,CAACG,KAAK,EAAM,cACrBvB,IAAA,OAAAgB,QAAA,CAAKI,IAAI,CAACI,IAAI,EAAM,GAJbJ,IAAI,CAACK,EAAE,CAKX,EACN,CAAC,GACH,EACK,GACF,cACRzB,IAAA,WACE0B,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAZ,OAAO,CAACD,IAAI,CAAG,CAAC,CAAC,EAAC,CACjCE,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CACjD,eAED,EAAS,GACL,CAEV,CAAC,CAED,cAAe,CAAAR,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}