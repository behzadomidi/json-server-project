{"ast":null,"code":"import axios from\"axios\";import React from\"react\";import useSWR from\"swr\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddAdmin=function AddAdmin(){var handleSubmit=function handleSubmit(e){e.preventDefault();var data=new FormData(e.target);var admin={name:data.get(\"name\"),email:data.get(\"email\")};axios.post(\"http://localhost:8000/admin\",admin);};var _useSWR=useSWR(\"http://localhost:8000/admin\",{refreshInterval:0}),data=_useSWR.data,mutate=_useSWR.mutate;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Admin Page\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",onClick:function onClick(){return mutate(data);},children:\"get new admin\"})]}),/*#__PURE__*/_jsxs(\"biv\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3 border-end\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"form-label\",children:\"Name :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"E-mail :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"my-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-success\",children:\"save admin\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-9\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return axios.delete(\"http://localhost:8000/admin/\".concat(item.id));},className:\"btn btn-danger\",children:\"delete\"})})]},item.id);})})]})})]})]});};export default AddAdmin;","map":{"version":3,"names":["axios","React","useSWR","jsx","_jsx","jsxs","_jsxs","AddAdmin","handleSubmit","e","preventDefault","data","FormData","target","admin","name","get","email","post","_useSWR","refreshInterval","mutate","className","children","onClick","onSubmit","htmlFor","type","id","map","item","delete","concat"],"sources":["/Users/behzad/Desktop/swr/src/pages/admin/AddAdmin.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport useSWR from \"swr\";\n\nconst AddAdmin = () => {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const data = new FormData(e.target);\n    const admin = {\n      name: data.get(\"name\"),\n      email: data.get(\"email\"),\n    };\n    axios.post(`http://localhost:8000/admin`, admin);\n  };\n  const { data, mutate } = useSWR(\"http://localhost:8000/admin\", {\n    refreshInterval: 0,\n  });\n  return (\n    <div className=\"p-3\">\n      <div className=\"d-flex justify-content-between\">\n        <h1>Add Admin Page</h1>\n        <button\n          className=\"btn btn-outline-secondary\"\n          onClick={() => mutate(data)}\n        >\n          get new admin\n        </button>\n      </div>\n      <biv className=\"row\">\n        <div className=\"col-3 border-end\">\n          <form onSubmit={handleSubmit}>\n            <div>\n              <label htmlFor=\"name\" className=\"form-label\">\n                Name :\n              </label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                className=\"form-control\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"email\" className=\"form-label\">\n                E-mail :\n              </label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                name=\"email\"\n                className=\"form-control\"\n              />\n            </div>\n            <div className=\"my-3\">\n              <button type=\"submit\" className=\"btn btn-outline-success\">\n                save admin\n              </button>\n            </div>\n          </form>\n        </div>\n        <div className=\"col-9\">\n          <table className=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th>name</th>\n                <th>email</th>\n                <th>delete</th>\n              </tr>\n            </thead>\n            <tbody>\n              {data.map((item) => (\n                <tr key={item.id}>\n                  <td>{item.name}</td>\n                  <td>{item.email}</td>\n                  <td>\n                    <button\n                      onClick={() =>\n                        axios.delete(`http://localhost:8000/admin/${item.id}`)\n                      }\n                      className=\"btn btn-danger\"\n                    >\n                      delete\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </biv>\n    </div>\n  );\n};\n\nexport default AddAdmin;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}