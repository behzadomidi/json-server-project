{"ast":null,"code":"import _slicedToArray from\"/Users/behzad/Desktop/swr/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState}from\"react\";import useSWR,{mutate}from\"swr\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BestPost=function BestPost(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),pageIndex=_useState2[0],setPageIndex=_useState2[1];var _useSWR=useSWR(\"http://localhost:8000/bestpost?_page=\".concat(pageIndex,\"&_limit=10\")),data=_useSWR.data;return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"lead fs-3\",children:\"Welcome to Best Post Page\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return mutate(\"http://localhost:8000/bestpost?_page=\".concat(pageIndex+1,\"&_limit=10\"),axios.get(\"http://localhost:8000/bestpost?_page=\".concat(pageIndex+1,\"&_limit=10\")).then(function(res){return res.data;}));},className:\"btn btn-outline-primary\",children:[\"prefetch next pagination\",\" \"]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"index\"}),/*#__PURE__*/_jsx(\"th\",{children:\"title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"text\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.title}),/*#__PURE__*/_jsx(\"td\",{children:item.email}),/*#__PURE__*/_jsx(\"td\",{children:item.text})]});})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-5 d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setPageIndex(pageIndex-1);},className:\"btn btn-outline-secondary w-50 mx-2\",children:\"Prev\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setPageIndex(pageIndex+1);},className:\"btn btn-outline-success w-50 mx-2\",children:\"Next\"})]})]});};export default BestPost;","map":{"version":3,"names":["axios","React","useState","useSWR","mutate","jsx","_jsx","jsxs","_jsxs","BestPost","_useState","_useState2","_slicedToArray","pageIndex","setPageIndex","_useSWR","concat","data","className","children","onClick","get","then","res","map","item","index","title","email","text"],"sources":["/Users/behzad/Desktop/swr/src/pages/bestPost/BestPost.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport useSWR, { mutate } from \"swr\";\n\nconst BestPost = () => {\n  const [pageIndex, setPageIndex] = useState(1);\n  const { data } = useSWR(\n    `http://localhost:8000/bestpost?_page=${pageIndex}&_limit=10`\n  );\n  return (\n    <div className=\"container mt-3\">\n      <div className=\"d-flex justify-content-between\">\n        <h1 className=\"lead fs-3\">Welcome to Best Post Page</h1>\n        <button\n          onClick={() =>\n            mutate(\n              `http://localhost:8000/bestpost?_page=${pageIndex + 1}&_limit=10`,\n              axios\n                .get(\n                  `http://localhost:8000/bestpost?_page=${\n                    pageIndex + 1\n                  }&_limit=10`\n                )\n                .then((res) => res.data)\n            )\n          }\n          className=\"btn btn-outline-primary\"\n        >\n          prefetch next pagination{\" \"}\n        </button>\n      </div>\n      <hr />\n      <table className=\"table table-striped table-hover\">\n        <thead>\n          <tr>\n            <th>index</th>\n            <th>title</th>\n            <th>email</th>\n            <th>text</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data.map((item, index) => (\n            <tr>\n              <td>{index + 1}</td>\n              <td>{item.title}</td>\n              <td>{item.email}</td>\n              <td>{item.text}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <div className=\"my-5 d-flex justify-content-between\">\n        <button\n          onClick={() => setPageIndex(pageIndex - 1)}\n          className=\"btn btn-outline-secondary w-50 mx-2\"\n        >\n          Prev\n        </button>\n        <button\n          onClick={() => setPageIndex(pageIndex + 1)}\n          className=\"btn btn-outline-success w-50 mx-2\"\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default BestPost;\n"],"mappings":"+GAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,EAAIC,MAAM,KAAQ,KAAK,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErC,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACrB,IAAAC,SAAA,CAAkCR,QAAQ,CAAC,CAAC,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,OAAA,CAAiBZ,MAAM,yCAAAa,MAAA,CACmBH,SAAS,eAClD,CAFOI,IAAI,CAAAF,OAAA,CAAJE,IAAI,CAGZ,mBACET,KAAA,QAAKU,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BX,KAAA,QAAKU,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7Cb,IAAA,OAAIY,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,2BAAyB,EAAK,cACxDX,KAAA,WACEY,OAAO,CAAE,SAAAA,QAAA,QACP,CAAAhB,MAAM,yCAAAY,MAAA,CACoCH,SAAS,CAAG,CAAC,eACrDb,KAAK,CACFqB,GAAG,yCAAAL,MAAA,CAEAH,SAAS,CAAG,CAAC,eAEhB,CACAS,IAAI,CAAC,SAACC,GAAG,QAAK,CAAAA,GAAG,CAACN,IAAI,GAAC,CAC3B,EACF,CACDC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EACpC,0BACyB,CAAC,GAAG,GACrB,GACL,cACNb,IAAA,SAAM,cACNE,KAAA,UAAOU,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAChDb,IAAA,UAAAa,QAAA,cACEX,KAAA,OAAAW,QAAA,eACEb,IAAA,OAAAa,QAAA,CAAI,OAAK,EAAK,cACdb,IAAA,OAAAa,QAAA,CAAI,OAAK,EAAK,cACdb,IAAA,OAAAa,QAAA,CAAI,OAAK,EAAK,cACdb,IAAA,OAAAa,QAAA,CAAI,MAAI,EAAK,GACV,EACC,cACRb,IAAA,UAAAa,QAAA,CACGF,IAAI,CAACO,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACpBlB,KAAA,OAAAW,QAAA,eACEb,IAAA,OAAAa,QAAA,CAAKO,KAAK,CAAG,CAAC,EAAM,cACpBpB,IAAA,OAAAa,QAAA,CAAKM,IAAI,CAACE,KAAK,EAAM,cACrBrB,IAAA,OAAAa,QAAA,CAAKM,IAAI,CAACG,KAAK,EAAM,cACrBtB,IAAA,OAAAa,QAAA,CAAKM,IAAI,CAACI,IAAI,EAAM,GACjB,EACN,CAAC,EACI,GACF,cACRrB,KAAA,QAAKU,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDb,IAAA,WACEc,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAN,YAAY,CAACD,SAAS,CAAG,CAAC,CAAC,EAAC,CAC3CK,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAChD,MAED,EAAS,cACTb,IAAA,WACEc,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAN,YAAY,CAACD,SAAS,CAAG,CAAC,CAAC,EAAC,CAC3CK,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC9C,MAED,EAAS,GACL,GACF,CAEV,CAAC,CAED,cAAe,CAAAV,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}